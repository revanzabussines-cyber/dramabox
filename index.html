<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dramabox VIP Stream</title>
    <style>
        /* CSS GAYA NETFLIX */
        body { background-color: #141414; color: #fff; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; margin: 0; padding: 0; }
        
        header { padding: 20px; text-align: center; background: #000; border-bottom: 1px solid #333; position: sticky; top: 0; z-index: 100; }
        h1 { color: #E50914; margin: 0; text-transform: uppercase; letter-spacing: 2px; font-size: 24px; }
        
        .container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));
            gap: 15px;
            padding: 20px;
            max-width: 1200px;
            margin: 0 auto;
        }

        .card {
            background: #2f2f2f;
            border-radius: 6px;
            overflow: hidden;
            position: relative;
            transition: transform 0.3s;
            cursor: pointer;
        }
        
        .card:hover { transform: scale(1.05); z-index: 2; box-shadow: 0 0 10px rgba(0,0,0,0.8); }

        .poster {
            width: 100%;
            height: 200px;
            object-fit: cover;
            display: block;
        }

        .info { padding: 10px; }
        .judul { font-size: 13px; font-weight: bold; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
        .eps { font-size: 11px; color: #b3b3b3; margin-top: 4px; }
        
        .badge {
            position: absolute; top: 5px; right: 5px;
            background-color: #E50914; color: white;
            font-size: 9px; padding: 2px 6px; border-radius: 3px; font-weight: bold;
        }

        #loading, #error { grid-column: 1/-1; text-align: center; margin-top: 50px; color: #999; }
        #error { color: #e50914; }
    </style>
</head>
<body>

    <header>
        <h1>üé¨ DRAMABOX VIP</h1>
    </header>

    <div class="container" id="content">
        <h3 id="loading">Sedang memuat drama...</h3>
    </div>

    <script>
        // --- LOGIC API ---
        // URL API dari file yang lu kirim
        const apiUrl = "https://dramabox.sansekai.my.id/api/dramabox/vip";

        async function loadDrama() {
            const container = document.getElementById('content');
            
            try {
                // Fetch data dari API
                const response = await fetch(apiUrl);
                
                // Cek Rate Limit (Sesuai header di gambar lu: limit 15/menit)
                if (response.status === 429) {
                    container.innerHTML = "<h3 id='error'>‚ö†Ô∏è Terlalu banyak request! Tunggu 1 menit lalu refresh.</h3>";
                    return;
                }

                const data = await response.json();
                
                // Cek data 'bookList' sesuai struktur JSON yang lu kasih
                if (data.bookList && data.bookList.length > 0) {
                    container.innerHTML = ""; // Hapus loading text

                    data.bookList.forEach(drama => {
                        // Render HTML Tiap Drama
                        // Kita ambil: coverWap, bookName, chapterCount
                        const html = `
                            <div class="card" title="${drama.bookName}">
                                <img src="${drama.coverWap}" class="poster" loading="lazy">
                                <div class="badge">VIP</div>
                                <div class="info">
                                    <div class="judul">${drama.bookName}</div>
                                    <div class="eps">${drama.chapterCount} Episode</div>
                                </div>
                            </div>
                        `;
                        container.innerHTML += html;
                    });
                } else {
                    container.innerHTML = "<h3 id='error'>Data kosong atau format berubah.</h3>";
                }

            } catch (err) {
                console.error(err);
                container.innerHTML = "<h3 id='error'>Gagal koneksi ke server. Coba lagi nanti.</h3>";
            }
        }

        // Jalankan saat web dibuka
        loadDrama();
    </script>
</body>
</html>
